(this["webpackJsonpreact-burger"]=this["webpackJsonpreact-burger"]||[]).push([[0],{105:function(e,t,n){e.exports={item:"constructor-item_item__FV_tI"}},107:function(e,t,n){e.exports={scroll:"scrolled-container_scroll__3emvY"}},108:function(e,t,n){e.exports={overlay:"modal-overlay_overlay__AKixE"}},109:function(e,t,n){e.exports={price:"price_price__1PqiV text_type_digits-default text"}},110:function(e,t,n){e.exports={card:"ingredient-card_card__1cRZ7"}},111:function(e,t,n){e.exports={flex:"home_flex__1tGxl"}},127:function(e,t,n){},13:function(e,t,n){e.exports={table:"orders-stats_table__3KNUK",quarter:"orders-stats_quarter__2bdYa",th:"orders-stats_th__2xiJJ text_type_main-medium",td:"orders-stats_td__38S7t text_type_digits-default p-1",done:"orders-stats_done__11fr7",td_large:"orders-stats_td_large__3C6gm text_type_digits-large"}},16:function(e,t,n){e.exports={details:"ingredient-details_details__uP6-A pb-15",figure:"ingredient-details_figure__2yX8t mb-8",image:"ingredient-details_image__H2-xP mb-4",title:"ingredient-details_title__2_5MB text text_type_main-medium",evergy:"ingredient-details_evergy__1-w4w",td:"ingredient-details_td__1tiuS text_type_digits-default",th:"ingredient-details_th__1Vb6- text_type_main-default"}},17:function(e,t,n){e.exports={card:"order-info_card__3u0GJ pb-20",header:"order-info_header__1sYHj pb-15",id:"order-info_id__2I5Sa text_type_digits-default text mb-10",title:"order-info_title__LqHMJ text text_type_main-medium mb-3",status:"order-info_status__wcc9g text text_type_main-default","structure-title":"order-info_structure-title__3HeF8 text text_type_main-medium mb-6",list:"order-info_list__3DYZ3 list-reset pr-6",item:"order-info_item__AxHy8 mb-4",ingredient:"order-info_ingredient__30pRC","ingredient-name":"order-info_ingredient-name__2imTi text_type_main-default text ml-4 pr-6",price:"order-info_price__sNxEd text text_type_digits-default",footer:"order-info_footer__2VeuG pt-10","time-wrapper":"order-info_time-wrapper__pysQd text",time:"order-info_time__1eO6f text_type_main-default"}},200:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(34),s=n.n(c),i=n(31),o=n(10),l=(n(127),i.c),u=function(){return Object(i.b)()},d=n(11),j=n(7),b=n(116),m=n(0),h=["children"],p=function(e){var t=e.children,n=Object(b.a)(e,h),r=l((function(e){return e.profile.user.isLogin}));return Object(m.jsx)(d.b,Object(j.a)(Object(j.a)({},n),{},{render:function(e){var n=e.location;return r?t:Object(m.jsx)(d.a,{to:{pathname:"/login",state:{from:n}}})}}))},f=n(205),x=n(114),O=n(12),_=n(5),g=n(3),v=n.n(g),w=n(6),y=Object(_.c)("postedOrderDetails/postOrder",function(){var e=Object(w.a)(v.a.mark((function e(t,n){var r,a,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.extra,e.next=3,r.getOrderDetails(t);case 3:return a=e.sent,e.next=6,a.json();case 6:return c=e.sent,e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),N=Object(_.d)({name:"postedOrderDetails",initialState:{orderDetails:null,loading:!1,error:null},reducers:{},extraReducers:function(e){e.addCase(y.fulfilled,(function(e,t){e.loading=!1,e.orderDetails=t.payload})).addCase(y.pending,(function(e){e.loading=!0,e.error=null})).addCase(y.rejected,(function(e,t){e.loading=!1,e.error=t.error,e.orderDetails=null}))}}).reducer,C={items:[],bun:null},k=Object(_.d)({name:"burgerConstructor",initialState:C,reducers:{addItem:function(e,t){var n=t.payload;e.items.push(n)},removeItem:function(e,t){var n=t.payload,r=e.items.findIndex((function(e){return e._id===n}));e.items.splice(r,1)},swapItems:function(e,t){var n=e.items,r=t.payload,a=r.from,c=r.to,s=[n[c],n[a]];n[a]=s[0],n[c]=s[1]},addBun:function(e,t){var n=t.payload.bun;(null===e.bun||e.bun&&e.bun._id!==n._id)&&(e.bun=n)}},extraReducers:function(e){e.addCase(y.fulfilled,(function(){return C}))}}),S=k.reducer,I=k.actions,E=I.addItem,T=I.removeItem,D=I.addBun,L=I.swapItems,R=n(207),P=n(4),F=n(206),M=n(105),z=n.n(M),U=function(e){var t=e.ingredient,n=e.idx,a=Object(i.b)(),c=Object(r.useRef)(null),s=Object(F.a)({type:"constructorItem",item:{idx:n},collect:function(e){return{isDragging:e.isDragging()}}}),o=Object(O.a)(s,2)[1],l=Object(R.a)({accept:"constructorItem",hover:function(e){if(c.current){var t=e.idx,r=n;t!==r&&(a(L({from:t,to:r})),e.idx=r)}}}),u=Object(O.a)(l,2)[1],d=Object(r.useCallback)((function(){a(T(t._id))}),[t._id,a]);return o(u(c)),Object(m.jsxs)("div",{className:z.a.item,ref:c,children:[Object(m.jsx)(P.DragIcon,{type:"primary"}),Object(m.jsx)(P.ConstructorElement,{thumbnail:t.image,text:t.name,price:t.price,handleClose:d})]})},q=n(107),B=n.n(q),H=function(e){var t=e.maxHeight,n=e.children,r=e.onScroll;return Object(m.jsx)("div",{style:{maxHeight:t},className:B.a.scroll,onScroll:r,children:n})},J=n(108),G=n.n(J),A=function(e){var t=e.children,n=e.onClick;return Object(m.jsx)("div",{onClick:function(e){e.target.classList.contains("js-overlay")&&n(e)},className:"".concat(G.a.overlay," js-overlay"),children:t})},V=n(45),W=n.n(V),Y=document.getElementById("modal"),X=function(e){var t=e.children,n=e.title,a=e.onClose,s=Object(r.useCallback)((function(e){e.preventDefault(),a()}),[a]);return Object(r.useEffect)((function(){var e=function(e){"Escape"===e.code&&s(e)};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[s]),Object(c.createPortal)(Object(m.jsx)(A,{onClick:s,children:Object(m.jsxs)("div",{className:W.a.modal,children:[Object(m.jsxs)("header",{className:W.a.header,children:[Object(m.jsx)("h2",{className:W.a.title,children:n}),Object(m.jsx)("button",{onClick:s,className:W.a["close-btn"],"aria-label":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u043c\u043e\u0434\u0430\u043b\u044c\u043e\u0435 \u043e\u043a\u043d\u043e",type:"button",children:Object(m.jsx)(P.CloseIcon,{type:"primary"})})]}),t]})}),Y)},Z=n(115),K=n(35),Q=n.n(K),$=function(e){var t=e.width,n=void 0===t?"232":t,r=e.height,a=void 0===r?"232":r;return Object(m.jsx)("svg",{viewBox:"0 0 100 100",y:"0",x:"0",xmlns:"http://www.w3.org/2000/svg",width:n,height:a,className:Q.a.spinner,children:Object(m.jsxs)("g",{children:[Object(m.jsx)("g",{className:Q.a.star,children:Object(m.jsx)("path",{fill:"#f5e169",d:"M57.7 35.7l-8.3-.6c-6.5-.5-11.6-5.6-12-12.1l-.6-9.6c0-.6-.5-1.1-1.1-1.1h-.3c-.6 0-1.1.5-1.1 1.1l-.6 9.6c-.4 6.5-5.5 11.6-12 12.1l-8.3.6c-.5 0-1 .4-1.1.9-.1.7.4 1.3 1 1.3l8.4.6c6.5.5 11.6 5.6 12 12.1l.6 9.6c0 .6.5 1.1 1.1 1.1h.3c.6 0 1.1-.5 1.1-1.1l.6-9.6c.4-6.5 5.5-11.6 12-12.1l8.4-.6c.7 0 1.1-.6 1-1.3-.1-.5-.6-.9-1.1-.9z"})}),Object(m.jsx)("g",{className:Q.a.star,children:Object(m.jsx)("path",{fill:"#f5e169",d:"M65.2 74.9l-4.2-.3c-3.2-.2-5.8-2.8-6-6l-.3-4.8c0-.3-.3-.5-.6-.5H54c-.3 0-.5.2-.6.5l-.3 4.8c-.2 3.2-2.8 5.8-6 6l-4.2.3c-.3 0-.5.2-.5.5.1.3.3.6.6.6l4.2.3c3.2.2 5.8 2.8 6 6l.3 4.8c0 .3.3.5.6.5h.1c.3 0 .5-.2.6-.5l.3-4.8c.2-3.2 2.8-5.8 6-6l4.2-.3c.3 0 .6-.3.5-.7-.1-.2-.3-.4-.6-.4z"})}),Object(m.jsx)("g",{className:Q.a.star,children:Object(m.jsx)("path",{fill:"#f5e169",d:"M91.6 50.3l-6.5-.5c-5-.4-8.9-4.5-9.3-9.6l-.5-7.7c0-.5-.4-.8-.9-.8h-.2c-.5 0-.8.4-.9.8l-.5 7.7c-.3 5.1-4.3 9.3-9.3 9.6l-6.5.5c-.4 0-.8.3-.8.7-.1.5.3 1 .8 1.1l6.5.5c5 .4 8.9 4.5 9.3 9.6l.5 7.7c0 .5.4.8.9.8h.2c.5 0 .8-.4.9-.8l.5-7.7c.3-5.1 4.3-9.3 9.3-9.6l6.5-.5c.5 0 .9-.5.8-1.1 0-.3-.3-.6-.8-.7z"})}),Object(m.jsx)("g",{className:Q.a.star,children:Object(m.jsx)("path",{fill:"#f5e169",d:"M28.2 70.2l-3.8-.3c-2.9-.2-5.3-2.6-5.5-5.5l-.3-4.4c0-.3-.2-.5-.5-.5H18c-.3 0-.5.2-.5.5l-.3 4.4c-.2 2.9-2.5 5.3-5.5 5.5l-3.7.3c-.2 0-.5.2-.5.4 0 .4.2.6.5.6l3.8.3c2.9.2 5.3 2.6 5.5 5.5l.3 4.4c0 .3.2.5.5.5h.1c.3 0 .5-.2.5-.5L19 77c.2-2.9 2.5-5.3 5.5-5.5l3.8-.3c.3 0 .5-.3.5-.6-.2-.2-.4-.4-.6-.4z"})})]})})},ee=n(55),te=n.n(ee),ne=function(e){var t=e.width,n=void 0===t?"232":t,r=e.height,a=void 0===r?"232":r,c=e.error;return Object(m.jsxs)("div",{className:te.a.error,children:[Object(m.jsxs)("svg",{width:n,height:a,viewBox:"0 0 512 512",children:[Object(m.jsx)("path",{d:"m152.4 132.247c-11.926 11.927-19.164 27.192-20.379 42.984-1.25 16.256 3.978 31.125 14.722 41.87 9.7 9.7 22.76 14.9 37.17 14.9q2.327 0 4.7-.182c15.793-1.215 31.058-8.452 42.985-20.379s19.164-27.192 20.379-42.984c1.25-16.256-3.978-31.125-14.722-41.869-21.834-21.832-59.899-19.293-84.855 5.66zm83.621 34.984c-.921 11.988-6.511 23.67-15.739 32.9-9.227 9.227-20.911 14.817-32.9 15.739-11.523.883-21.939-2.695-29.327-10.083s-10.969-17.8-10.082-29.327c.921-11.987 6.511-23.67 15.739-32.9 10.472-10.473 23.821-15.879 36.284-15.879 9.81 0 19.072 3.352 25.941 10.221 7.393 7.39 10.973 17.806 10.086 29.329z"}),Object(m.jsx)("path",{d:"m184 163.846h16v16h-16z"}),Object(m.jsx)("path",{d:"m488.944 198.075a8 8 0 0 0 -7.765-6.075h-42.241l-2.285-16h27.347v-16h-29.633l-2.448-17.132a7.99 7.99 0 0 0 -3.482-5.524l-14.015-9.344h25.578v-16h-49.578l-9.985-6.656a8 8 0 0 0 -4.437-1.344h-32v-16h40v-16h-40v-33.835a8 8 0 0 0 -5.242-7.51 240.523 240.523 0 0 0 -290.704 105.345h-.054v.093a236.951 236.951 0 0 0 -23.416 55.907h-.584v2.221a241.358 241.358 0 0 0 -8 61.779 238.58 238.58 0 0 0 32 119.907v.093h.054a241.36 241.36 0 0 0 38.24 49.7 240.09 240.09 0 0 0 285.574 40.506 8 8 0 0 0 4.132-7v-19.206h24v-16h-24v-16h72v-16h-60.687l16-16h36.687a8 8 0 0 0 8-8v-16h32v-16h-32v-17.351l36.479-6.784a8 8 0 0 0 6.365-6.218 241.434 241.434 0 0 0 -1.9-107.572zm-352.944 105.925v16h176v40h-254.5a221.144 221.144 0 0 1 -16.26-40h46.76v-16h-50.862a225.353 225.353 0 0 1 -4.982-40h159.844v40zm340.222-6.874-37.685 7.009a8 8 0 0 0 -6.537 7.865v48h-32a8 8 0 0 0 -5.657 2.343l-32 32a8 8 0 0 0 -2.343 5.657v54.431a224.175 224.175 0 0 1 -242.6-22.431h42.6v-16h-60.744c-.548-.538-1.1-1.065-1.648-1.608a225.909 225.909 0 0 1 -30.841-38.392h181.233v40h-40v16h136v-16h-80v-40h96v-16h-32v-40h88v-16h-208v-40h224v-16h-72v-40h48v-16h-144v16h80v40h-311.844a225.353 225.353 0 0 1 4.982-40h82.862v-16h-78.76a221.144 221.144 0 0 1 16.26-40h62.5v-16h-53.233a225.909 225.909 0 0 1 30.841-38.392c.544-.543 1.1-1.07 1.648-1.608h52.744v-16h-34.6a224.437 224.437 0 0 1 210.6-36.178v68.178a8 8 0 0 0 8 8h37.578l43.008 28.672 7.5 52.46a8 8 0 0 0 7.914 6.868h42.83a225.557 225.557 0 0 1 1.392 89.126z"}),Object(m.jsx)("path",{d:"m272 136h104v16h-104z"}),Object(m.jsx)("path",{d:"m168 80h16v16h-16z"}),Object(m.jsx)("path",{d:"m200 80h112v16h-112z"}),Object(m.jsx)("path",{d:"m176 416h16v16h-16z"}),Object(m.jsx)("path",{d:"m104 304h16v16h-16z"}),Object(m.jsx)("path",{d:"m448 248h16v16h-16z"}),Object(m.jsx)("path",{d:"m360 40h16v16h-16z"}),Object(m.jsx)("path",{d:"m456 128h16v16h-16z"}),Object(m.jsx)("path",{d:"m416 424h16v16h-16z"})]}),Object(m.jsx)("p",{className:te.a.text,children:"\u041f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430"}),c&&Object(m.jsx)("p",{className:te.a.text,children:c.message})]})},re=n(36),ae=n.n(re),ce=function(){var e=l((function(e){return e.burgerConstructor})),t=e.bun,n=e.items,a=u(),c=Object(r.useMemo)((function(){return t&&n.length?[].concat(Object(Z.a)(n.map((function(e){return e._id}))),[t._id]):[]}),[t,n]),s=l((function(e){return e.profile.user.isLogin})),i=l((function(e){return e.postedOrderDetails})),o=i.orderDetails,j=i.loading,b=i.error;return Object(r.useEffect)((function(){s&&a(y(c))}),[]),s?Object(m.jsxs)(m.Fragment,{children:[j&&Object(m.jsx)($,{}),b&&Object(m.jsx)(ne,{error:b}),o&&!j?Object(m.jsxs)("div",{className:ae.a.details,children:[Object(m.jsx)("p",{className:ae.a.id,children:o.order.number}),Object(m.jsx)("h3",{className:ae.a.title,children:"\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0437\u0430\u043a\u0430\u0437\u0430"}),Object(m.jsx)("p",{className:ae.a.status,children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u043d\u0430\u0447\u0430\u043b\u0438 \u0433\u043e\u0442\u043e\u0432\u0438\u0442\u044c"}),Object(m.jsx)("p",{className:ae.a.note,children:"\u0414\u043e\u0436\u0434\u0438\u0442\u0435\u0441\u044c \u0433\u043e\u0442\u043e\u0432\u043d\u043e\u0441\u0442\u0438 \u043d\u0430 \u043e\u0440\u0431\u0438\u0442\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0442\u0430\u043d\u0446\u0438\u0438"})]}):null]}):Object(m.jsx)(d.a,{to:"/login"})},se=n(77),ie=n.n(se),oe=function(e){var t=e.children,n=l((function(e){return e.burgerConstructor})).bun;return n?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(P.ConstructorElement,{price:n.price,thumbnail:n.image,text:"".concat(n.name," (\u0432\u0435\u0440\u0445)"),type:"top",isLocked:!0}),t,Object(m.jsx)(P.ConstructorElement,{price:n.price,thumbnail:n.image,text:"".concat(n.name," (\u043d\u0438\u0437)"),type:"bottom",isLocked:!0})]}):Object(m.jsxs)("div",{className:ie.a.placeholder,children:[Object(m.jsxs)("p",{className:ie.a.text,children:["\u0411\u0443\u043b\u043a\u0430 \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u0430(( ",Object(m.jsx)("br",{})," \u0422\u0430\u0449\u0438 \u0435\u0451 \u0441\u044e\u0434\u0430!"]}),t]})},le=n(109),ue=n.n(le),de=function(e){var t=e.children;return Object(m.jsxs)("p",{className:ue.a.price,children:[t,Object(m.jsx)(P.CurrencyIcon,{type:"primary"})]})},je=function(){return"".concat((~~(1e8*Math.random())).toString(16))},be=n(26),me=n.n(be),he=function(){var e=u(),t=l((function(e){return e.burgerConstructor})),n=t.bun,a=t.items,c=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(r.useState)(e),n=Object(O.a)(t,2),a=n[0],c=n[1],s=Object(r.useCallback)((function(){return c((function(e){return!e}))}),[]);return[a,s]}(),s=Object(O.a)(c,2),i=s[0],o=s[1],d=Object(r.useCallback)((function(){"function"===typeof o&&o()}),[o]),b=Object(r.useCallback)((function(){"function"===typeof o&&o()}),[o]),h=Object(R.a)({accept:"ingredients",drop:function(t){"bun"===t.type?e(D({bun:t,activeBun:n})):e(E(Object(j.a)(Object(j.a)({},t),{},{constructorId:je()})))},collect:function(e){return{isOver:e.isOver(),canDrop:e.canDrop()}}}),p=Object(O.a)(h,2),f=p[0],x=f.isOver,_=f.canDrop,g=p[1],v=Object(r.useMemo)((function(){return n&&a.length?n.price+a.reduce((function(e,t){return e+t.price}),0):0}),[n,a]),w=Object(r.useMemo)((function(){return a.length?a.map((function(e,t){return Object(m.jsx)("li",{className:me.a.item,children:Object(m.jsx)(U,{ingredient:e,idx:t})},e.constructorId)})):Object(m.jsx)("li",{className:me.a.placeholder,children:Object(m.jsxs)("p",{className:me.a["placeholder-text"],children:["\u0422\u0443\u0442 \u043f\u0443\u0441\u0442\u043e(( ",Object(m.jsx)("br",{})," \u0422\u0430\u0449\u0438 \u0441\u044e\u0434\u0430  \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u044b!"]})})}),[a]),y=Object(r.useMemo)((function(){var e="".concat(me.a.ingredientsData);return x&&_?e="".concat(me.a.ingredientsData," ").concat(me.a.ingredientInflight):_&&(e="".concat(me.a.ingredientsData," ").concat(me.a.canDrop)),Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{ref:g,className:e,children:Object(m.jsx)(oe,{children:Object(m.jsx)(H,{maxHeight:"455px",children:Object(m.jsx)("ul",{className:me.a.list,children:w})})})})})}),[w,g,x,_]),N=Object(r.useMemo)((function(){if(n&&a.length)return Object(m.jsxs)("div",{className:me.a.helper,children:[Object(m.jsx)(de,{children:v}),Object(m.jsx)(P.Button,{type:"primary",size:"large",onClick:d,children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"})]})}),[n,a,v,d]);return Object(m.jsxs)(m.Fragment,{children:[i&&Object(m.jsx)(X,{onClose:b,children:Object(m.jsx)(ce,{})}),Object(m.jsxs)("section",{className:me.a.section,children:[Object(m.jsx)("h2",{className:"visually-hidden",children:"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440 \u0431\u0443\u0440\u0433\u0435\u0440\u0430"}),y,N]})]})},pe=n(110),fe=n.n(pe),xe=function(e){var t=e.ingredient,n=Object(d.h)(),r=t.name,a=t.price,c=t.image,s=t._id,i=Object(F.a)({type:"ingredients",item:t}),l=Object(O.a)(i,2)[1];return Object(m.jsx)(o.b,{to:{pathname:"/ingredients/".concat(s),state:{from:n.pathname,ingredientLocation:n}},children:Object(m.jsxs)("article",{ref:l,className:fe.a.card,children:[Object(m.jsx)("picture",{className:"mb-2",children:Object(m.jsx)("img",{src:c,alt:r})}),Object(m.jsx)(de,{children:a}),Object(m.jsx)("h4",{className:"text_type_main-default text mt-1",children:r})]})})},Oe=n(78),_e=n.n(Oe),ge=function(e){var t=e.tabsData,n=e.activeTab,a=e.onClick,c=e.tabListRef,s=Object(r.useMemo)((function(){return Object.keys(t).map((function(e,r){return Object(m.jsx)("li",{className:_e.a.item,children:Object(m.jsx)(P.Tab,{value:e,active:e===n,onClick:a,children:t[e].title})},r)}))}),[t,n,a]);return Object(m.jsx)("ul",{ref:c,className:_e.a.list,children:s})},ve=n(56),we=n.n(ve),ye=function(e,t){var n={bun:{title:"\u0411\u0443\u043b\u043a\u0438",ref:t.bun,items:[],name:"bun"},sauce:{title:"\u0421\u043e\u0443\u0441\u044b",ref:t.sauce,items:[],name:"sauce"},main:{title:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438",ref:t.main,items:[],name:"main"}};return e.forEach((function(e){n[e.type].items.push(e)})),n};var Ne=function(){var e=l((function(e){return e.burgerIngredients.items})),t=Object(r.useState)("bun"),n=Object(O.a)(t,2),a=n[0],c=n[1],s=Object(r.useRef)(null),i=Object(r.useRef)(null),o=Object(r.useRef)(null),u=Object(r.useRef)(null),d=Object(r.useMemo)((function(){return{bun:s,sauce:i,main:o}}),[s,i,o]),j=Object(r.useMemo)((function(){return ye(e,d)}),[e,d]),b=Object(r.useMemo)((function(){return Object.values(j).map((function(e){var t=e.name,n=e.title,r=e.items,a=e.ref;return Object(m.jsxs)("section",{"data-name":t,ref:a,className:"pt-10",children:[Object(m.jsx)("h3",{className:"text text_type_main-medium mb-6",children:n}),Object(m.jsx)("ul",{className:we.a.list,children:r.map((function(e,t){return Object(m.jsxs)("li",{className:we.a.item,children:[!!e.quantity&&Object(m.jsx)(P.Counter,{count:e.quantity,size:"default"}),Object(m.jsx)(xe,{ingredient:e})]},t)}))})]},n)}))}),[j]),h=Object(r.useCallback)((function(e){var t;c(e),null===(t=j[e].ref.current)||void 0===t||t.scrollIntoView({behavior:"smooth"})}),[j,c]),p=Object(r.useCallback)((function(){var e=Object.values(j).find((function(e){var t=e.ref;return t.current.getBoundingClientRect().top-u.current.getBoundingClientRect().bottom+t.current.getBoundingClientRect().height/1.3>0})).name;c(e)}),[j]);return Object(m.jsxs)("section",{className:we.a.section,children:[Object(m.jsx)("h2",{className:"visually-hidden",children:"\u0418\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u044b"}),Object(m.jsx)(ge,{tabListRef:u,tabsData:j,activeTab:a,onClick:h}),Object(m.jsx)(H,{maxHeight:"716px",onScroll:p,children:b})]})},Ce=n(111),ke=n.n(Ce),Se=function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h1",{className:"visually-hidden",children:"\u0411\u0443\u0440\u0433\u0435\u0440\u043d\u0430\u044f 'Stellar burgers'"}),Object(m.jsx)("p",{className:"text text_type_main-large mb-5",children:"\u0421\u043e\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u0443\u0440\u0433\u0435\u0440"}),Object(m.jsx)(f.a,{backend:x.a,children:Object(m.jsxs)("div",{className:ke.a.flex,children:[Object(m.jsx)(Ne,{}),Object(m.jsx)(he,{})]})})]})},Ie=n(27),Ee=n(46),Te=n.n(Ee),De=function(e){var t=e.inputs,n=e.notes,r=e.title,a=e.submitButtonText,c=e.onFormSubmit,s=e.reqError;return Object(m.jsxs)("div",{className:Te.a.wrapper,children:[Object(m.jsx)("h1",{className:Te.a.title,children:r}),s&&Object(m.jsx)("p",{className:Te.a.error,children:"".concat(s.message)}),Object(m.jsxs)("form",{className:Te.a.form,onSubmit:c,children:[t,Object(m.jsx)(P.Button,{size:"medium",type:"primary",children:a})]}),n]})},Le=n(80),Re=n.n(Le),Pe=function(e){var t=e.link,n=t.text,r=t.href,a=e.children;return Object(m.jsxs)("p",{className:Re.a.note,children:[a," ",Object(m.jsx)(o.b,{to:r,className:Re.a.link,children:n})]})};function Fe(e,t,n){n.expires instanceof Date&&(n.expires=n.expires.toUTCString());var r=encodeURIComponent(e)+"="+encodeURIComponent(t);for(var a in n){r+="; "+a;var c=n[a];c||(r+="="+c)}document.cookie=r}function Me(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}var ze=Object(_.c)("login/login",function(){var e=Object(w.a)(v.a.mark((function e(t,n){var r,a,c,s,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.extra,e.next=3,r.login(t);case 3:return a=e.sent,e.next=6,a.json();case 6:if((c=e.sent).success){e.next=9;break}throw new Error(c.message);case 9:return s=c.accessToken,i=c.refreshToken,Fe("token",s,{"max-age":1200}),Fe("refreshToken",i,{"max-age":12e4}),e.abrupt("return",c);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Ue=Object(_.d)({name:"login",initialState:{loading:!1,error:null},reducers:{},extraReducers:function(e){e.addCase(ze.fulfilled,(function(e){e.loading=!1,e.error=null})).addCase(ze.pending,(function(e){e.loading=!0})).addCase(ze.rejected,(function(e,t){e.loading=!1,e.error=t.error}))}}).reducer,qe=function(){var e=u(),t=Object(d.h)().state,n=Object(r.useState)({email:"",password:""}),a=Object(O.a)(n,2),c=a[0],s=a[1],i=Object(r.useCallback)((function(t){t.preventDefault(),e(ze(c))}),[c,e]),o=Object(r.useCallback)((function(e){var t=e.target,n=t.name,r=t.value;s((function(e){return Object(j.a)(Object(j.a)({},e),{},Object(Ie.a)({},n,r))}))}),[]),b=l((function(e){return e.login})),h=b.loading,p=b.error;if(l((function(e){return e.profile.user.isLogin})))return Object(m.jsx)(d.a,{to:(null===t||void 0===t?void 0:t.from)||"/"});var f=[Object(m.jsx)(P.EmailInput,{value:c.email,onChange:o,name:"email"},"1"),Object(m.jsx)(P.PasswordInput,{value:c.password,onChange:o,name:"password"},"2")],x=[Object(m.jsx)(Pe,{link:{text:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f",href:"register"},children:"\u0412\u044b\xa0\u2014 \u043d\u043e\u0432\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c?"},"1"),Object(m.jsx)(Pe,{link:{text:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c",href:"forgot-password"},children:"\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"},"2")];return Object(m.jsxs)(m.Fragment,{children:[h&&Object(m.jsx)($,{}),!h&&Object(m.jsx)(De,{inputs:f,notes:x,title:"\u0412\u0445\u043e\u0434",submitButtonText:"\u0412\u043e\u0439\u0442\u0438",onFormSubmit:i,reqError:p})]})},Be=Object(_.c)("registration/register",function(){var e=Object(w.a)(v.a.mark((function e(t,n){var r,a,c,s,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.extra,e.next=3,r.register(t);case 3:return a=e.sent,e.next=6,a.json();case 6:if((c=e.sent).success){e.next=9;break}throw new Error(c.message);case 9:return s=c.accessToken,i=c.refreshToken,Fe("token",s,{"max-age":1200}),Fe("refreshToken",i,{"max-age":12e4}),e.abrupt("return",c);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),He=Object(_.d)({name:"registration",initialState:{loading:!1,error:null},reducers:{},extraReducers:function(e){e.addCase(Be.fulfilled,(function(e){e.loading=!1,e.error=null})).addCase(Be.pending,(function(e){e.loading=!0})).addCase(Be.rejected,(function(e,t){e.loading=!1,e.error=t.error}))}}).reducer,Je=function(){var e=u(),t=Object(r.useState)({name:"",email:"",password:""}),n=Object(O.a)(t,2),a=n[0],c=n[1],s=Object(r.useCallback)((function(t){t.preventDefault(),e(Be(a))}),[a,e]),i=Object(r.useCallback)((function(e){var t=e.target,n=t.name,r=t.value;c((function(e){return Object(j.a)(Object(j.a)({},e),{},Object(Ie.a)({},n,r))}))}),[]),o=l((function(e){return e.registration})),b=o.loading,h=o.error;if(l((function(e){return e.profile.user.isLogin})))return Object(m.jsx)(d.a,{to:"/"});var p=[Object(m.jsx)(P.Input,{onChange:i,value:a.name,name:"name",type:"text",placeholder:"\u0418\u043c\u044f"},"1"),Object(m.jsx)(P.EmailInput,{onChange:i,value:a.email,name:"email"},"2"),Object(m.jsx)(P.PasswordInput,{onChange:i,value:a.password,name:"password"},"3")],f=[Object(m.jsx)(Pe,{link:{text:"\u0412\u043e\u0439\u0442\u0438",href:"/login"},children:"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?"},"1")];return Object(m.jsxs)(m.Fragment,{children:[b&&Object(m.jsx)($,{}),!b&&Object(m.jsx)(De,{inputs:p,notes:f,title:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",submitButtonText:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f",onFormSubmit:s,reqError:h})]})},Ge=Object(_.c)("forgotPassword/checkEmailForPassReset",function(){var e=Object(w.a)(v.a.mark((function e(t,n){var r,a,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.extra,e.next=3,r.checkEmailForPassReset(t);case 3:return a=e.sent,e.next=6,a.json();case 6:if((c=e.sent).success){e.next=9;break}throw new Error(c.message);case 9:return e.abrupt("return",c.success);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Ae=Object(_.d)({name:"forgotPassword",initialState:{emailChecked:!1,loading:!1,error:null},reducers:{},extraReducers:function(e){e.addCase(Ge.fulfilled,(function(e){e.loading=!1,e.error=null,e.emailChecked=!0})).addCase(Ge.pending,(function(e){e.loading=!0,e.error=null})).addCase(Ge.rejected,(function(e,t){e.loading=!1,e.error=t.error}))}}).reducer,Ve=function(){var e=Object(d.h)(),t=u(),n=Object(r.useState)(""),a=Object(O.a)(n,2),c=a[0],s=a[1],i=Object(r.useCallback)((function(e){s(e.target.value)}),[]),o=Object(r.useCallback)(function(){var e=Object(w.a)(v.a.mark((function e(n){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),t(Ge(c));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[c,t]),j=[Object(m.jsx)(P.EmailInput,{name:"email",value:c,onChange:i},"1")],b=[Object(m.jsx)(Pe,{link:{text:"\u0412\u043e\u0439\u0442\u0438",href:"/login"},children:"\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"},"1")],h=l((function(e){return e.forgotPassword})),p=h.loading,f=h.error,x=h.emailChecked;return l((function(e){return e.profile.user.isLogin}))?Object(m.jsx)(d.a,{to:"/"}):Object(m.jsxs)(m.Fragment,{children:[p&&Object(m.jsx)($,{}),x&&Object(m.jsx)(d.a,{to:{pathname:"/reset-password",state:{from:e.pathname}}}),!p&&Object(m.jsx)(De,{inputs:j,notes:b,title:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f",submitButtonText:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c",onFormSubmit:o,reqError:f})]})},We=Object(_.c)("resetPassword/reset",function(){var e=Object(w.a)(v.a.mark((function e(t,n){var r,a,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.extra,e.next=3,r.resetPassword(t);case 3:return a=e.sent,e.next=6,a.json();case 6:if((c=e.sent).success){e.next=9;break}throw new Error(c.message);case 9:return e.abrupt("return",c);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Ye=Object(_.d)({name:"resetPassword",initialState:{loading:!1,error:null},reducers:{},extraReducers:function(e){e.addCase(We.fulfilled,(function(e){e.loading=!1,e.error=null})).addCase(We.pending,(function(e){e.loading=!0})).addCase(We.rejected,(function(e,t){e.loading=!1,e.error=t.error}))}}).reducer,Xe=function(){var e=Object(d.h)().state,t=u(),n=Object(r.useState)({token:"",password:""}),a=Object(O.a)(n,2),c=a[0],s=a[1],i=Object(r.useCallback)((function(e){e.preventDefault(),t(We(c))}),[c,t]),o=Object(r.useCallback)((function(e){var t=e.target,n=t.name,r=t.value;s((function(e){return Object(j.a)(Object(j.a)({},e),{},Object(Ie.a)({},n,r))}))}),[]),b=l((function(e){return e.resetPassword})),h=b.loading,p=b.error,f=l((function(e){return e.profile.user.isLogin})),x=l((function(e){return e.forgotPassword.emailChecked}));if(f||!x||"/forgot-password"!==(null===e||void 0===e?void 0:e.from))return Object(m.jsx)(d.a,{to:"/"});var _=[Object(m.jsx)(P.PasswordInput,{value:c.password,onChange:o,name:"password"},"1"),Object(m.jsx)(P.Input,{value:c.token,onChange:o,type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434 \u0438\u0437 \u043f\u0438\u0441\u044c\u043c\u0430",name:"token"},"2")],g=[Object(m.jsx)(Pe,{link:{text:"\u0412\u043e\u0439\u0442\u0438",href:"/login"},children:"\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"},"1")];return Object(m.jsxs)(m.Fragment,{children:[h&&Object(m.jsx)($,{}),!h&&Object(m.jsx)(De,{inputs:_,notes:g,title:"\u0421\u0431\u0440\u043e\u0441 \u043f\u0430\u0440\u043e\u043b\u044f",submitButtonText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",onFormSubmit:i,reqError:p})]})},Ze={user:{email:"",name:"",isLogin:!!Me("token")},loading:!1,error:null},Ke=Object(_.c)("profile/logout",function(){var e=Object(w.a)(v.a.mark((function e(t,n){var r,a,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.extra,e.next=3,r.logout();case 3:return a=e.sent,e.next=6,a.json();case 6:if((c=e.sent).success){e.next=9;break}throw new Error(c.message);case 9:return Fe("token","",{"max-age":-1}),e.abrupt("return",c);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Qe=Object(_.c)("profile/getUserData",function(){var e=Object(w.a)(v.a.mark((function e(t,n){var r,a,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.extra,e.next=3,r.getUserData();case 3:return a=e.sent,e.next=6,a.json();case 6:if((c=e.sent).success){e.next=9;break}throw new Error(c.message);case 9:return e.abrupt("return",c);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),$e=Object(_.c)("profile/setUserData",function(){var e=Object(w.a)(v.a.mark((function e(t,n){var r,a,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.extra,e.next=3,r.setUserData(t);case 3:return a=e.sent,e.next=6,a.json();case 6:if((c=e.sent).success){e.next=9;break}throw new Error(c.message);case 9:return e.abrupt("return",c);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),et=Object(_.f)(Ke,Qe,$e),tt=Object(_.g)(Ke,Qe,$e),nt=Object(_.e)(Be,ze),rt=Object(_.d)({name:"profile",initialState:Ze,reducers:{},extraReducers:function(e){e.addCase(Ke.fulfilled,(function(e){e.user.isLogin=!1})).addCase(Qe.fulfilled,(function(e,t){var n=t.payload.user;e.user=Object(j.a)(Object(j.a)({},n),{},{isLogin:!0}),e.loading=!1,e.error=null})).addCase($e.fulfilled,(function(e,t){var n=t.payload.user;e.user=Object(j.a)(Object(j.a)({},n),{},{isLogin:!0}),e.loading=!1,e.error=null})).addMatcher(nt,(function(e,t){e.user=Object(j.a)(Object(j.a)({},t),{},{isLogin:!0})})).addMatcher(et,(function(e,t){e.loading=!0,e.error=null})).addMatcher(tt,(function(e,t){e.loading=!1,e.error=t.error,e.user={email:"",name:"",isLogin:!!Me("token")}}))}}).reducer,at=n(81),ct=n.n(at),st=function(){var e=u(),t=l((function(e){return e.profile})),n=t.user,a=t.loading,c=t.error,s=Object(r.useState)({name:"",email:"",password:""}),i=Object(O.a)(s,2),o=i[0],d=i[1];Object(r.useEffect)((function(){e(Qe())}),[e]),Object(r.useEffect)((function(){var e=n.name,t=n.email;e&&t&&d({name:e,email:t,password:""})}),[n]);var b=Object(r.useCallback)((function(e){var t=e.target,n=t.name,r=t.value;d((function(e){return Object(j.a)(Object(j.a)({},e),{},Object(Ie.a)({},n,r))}))}),[]),h=Object(r.useCallback)((function(t){t.preventDefault(),e($e(o))}),[e,o]),p=Object(r.useCallback)((function(){n.name&&n.email&&d({name:n.name,email:n.email,password:""})}),[n]);return Object(m.jsxs)(m.Fragment,{children:[a&&Object(m.jsx)($,{}),c&&Object(m.jsx)(ne,{error:c}),!a&&!c&&Object(m.jsxs)("form",{onSubmit:h,className:ct.a.form,children:[Object(m.jsx)("h1",{className:"visually-hidden",children:"\u0412 \u044d\u0442\u043e\u043c \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0432\u043e\u0438 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"}),Object(m.jsx)(P.Input,{onChange:b,value:o.name,name:"name",type:"text",placeholder:"\u0418\u043c\u044f",icon:"EditIcon"}),Object(m.jsx)(P.EmailInput,{onChange:b,value:o.email,name:"email"}),Object(m.jsx)(P.PasswordInput,{onChange:b,value:o.password,name:"password"}),Object(m.jsxs)("div",{className:ct.a.flex,children:[Object(m.jsx)(P.Button,{size:"medium",type:"primary",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(m.jsx)(P.Button,{onClick:p,size:"medium",type:"secondary",children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})]})},it=n(82),ot=n.n(it),lt=function(e){var t=e.ingredient,n=t.name,r=t.image_mobile,a=e.more;return Object(m.jsxs)("div",{className:ot.a.ingredient,children:[a&&Object(m.jsxs)("span",{className:ot.a.more,children:["+",a]}),Object(m.jsx)("picture",{children:Object(m.jsx)("img",{src:r,alt:n})})]})},ut=["\u0441\u0435\u0433\u043e\u0434\u043d\u044f","\u0432\u0447\u0435\u0440\u0430"];var dt,jt=function(e){var t=new Date(e),n=new Intl.DateTimeFormat("ru-ru",{timeZoneName:"short",hour:"2-digit",minute:"2-digit"}).format(t).replace("GMT","i-GMT"),r=Math.trunc((+new Date-+t)/864e5);return r<=1&&r>=0?"".concat(ut[r],", ").concat(n):"".concat(r," ").concat(function(e,t){var n=[2,0,1,1,1,2];return t[e%100>4&&e%100<20?2:n[e%10<5?e%10:5]]}(r,["\u0434\u0435\u043d\u044c","\u0434\u043d\u044f","\u0434\u043d\u0435\u0439"])," \u043d\u0430\u0437\u0430\u0434, ").concat(n)},bt=n(28),mt=n.n(bt),ht="norma.nomoreparties.space",pt="https://"+ht+"/api/orders",ft="https://"+ht+"/api/password-reset",xt="https://"+ht+"/api/auth/user",Ot={done:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d",pending:"\u0413\u043e\u0442\u043e\u0432\u0438\u0442\u0441\u044f",created:"\u0421\u043e\u0437\u0434\u0430\u043d",cancel:"\u041e\u0442\u043c\u0435\u043d\u0435\u043d"},_t=function(e){var t=e.orderData,n=t.number,a=t.createdAt,c=t.name,s=t.status,i=t.ingredients,o=l((function(e){return e.burgerIngredients.items})),u=Object(r.useMemo)((function(){return o.filter((function(e){return i.includes(e._id)}))}),[o,i]),d=Object(r.useMemo)((function(){return u.reduce((function(e,t){return e+t.price}),0)}),[u]),j="done"===s?"success":"cancel"===s?"error":"",b=Ot[s];return Object(m.jsxs)("article",{className:mt.a.card,children:[Object(m.jsxs)("header",{className:mt.a.header,children:[Object(m.jsxs)("span",{className:mt.a.id,children:["#",n]}),Object(m.jsx)("time",{dateTime:a,className:mt.a.time,children:jt(a)})]}),Object(m.jsx)("h2",{className:mt.a.title,children:c}),Object(m.jsx)("p",{className:"".concat(mt.a.status," ").concat(j),children:b}),Object(m.jsxs)("div",{className:mt.a.main,children:[Object(m.jsx)("ul",{className:mt.a.ingredients,children:gt(u)}),Object(m.jsx)(de,{children:d})]})]})},gt=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n],a=null;5===n&&(a=e.length-5);var c=je();if(t.push(Object(m.jsx)("li",{style:{zIndex:e.length-n},children:Object(m.jsx)(lt,{more:a,ingredient:r})},c)),null!==a)break}return t},vt=n(47),wt=n.n(vt),yt=function(e){var t=e.ordersData,n=Object(d.h)();return t.length?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h1",{className:"visually-hidden",children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u043e\u0432"}),Object(m.jsx)("ul",{className:wt.a.list,children:t.map((function(e){return Object(m.jsx)("li",{className:wt.a.item,children:Object(m.jsx)(o.b,{to:{pathname:"".concat(n.pathname,"/").concat(e.number),state:{from:n.pathname,orderLocation:n}},className:wt.a.link,children:Object(m.jsx)(_t,{orderData:e})})},e._id)}))})]}):Object(m.jsx)("p",{className:wt.a.text,children:"\u0417\u0430\u043a\u0430\u0437\u043e\u0432 \u043d\u0435\u0442"})},Nt=Object(_.d)({name:"allOrdersFeed",initialState:{orders:[],total:0,totalToday:0,wsConnected:!1,error:!1},reducers:{wsConnectionSuccess:function(e){e.wsConnected=!0,e.error=!1},wsConnectionError:function(e){e.wsConnected=!1,e.error=!0},wsConnectionClosed:function(e){e.wsConnected=!1},wsGetMessage:function(e,t){var n=t.payload,r=n.orders,a=n.total,c=n.totalToday;n.success?(e.orders=r,e.total=a,e.totalToday=c):e.error=!0}}}),Ct=Nt.reducer,kt=Nt.actions,St={onOpen:kt.wsConnectionSuccess,onError:kt.wsConnectionError,onClose:kt.wsConnectionClosed,onMessage:kt.wsGetMessage},It=Object(_.d)({name:"userOrdersFeed",initialState:{orders:[],wsConnected:!1,error:!1},reducers:{wsConnectionSuccess:function(e){e.wsConnected=!0,e.error=!1},wsConnectionError:function(e){e.wsConnected=!1,e.error=!0},wsConnectionClosed:function(e){e.wsConnected=!1},wsGetMessage:function(e,t){var n=t.payload,r=n.orders;n.success?e.orders=r:e.error=!0}}}),Et=It.reducer,Tt=It.actions,Dt={allOrders:St,userOrders:{onOpen:Tt.wsConnectionSuccess,onError:Tt.wsConnectionError,onClose:Tt.wsConnectionClosed,onMessage:Tt.wsGetMessage},common:{wsConnectionInit:Object(_.b)("WS_CONNECTION_INIT"),wsConnectionClose:Object(_.b)("WS_CONNECTION_CLOSE")}},Lt=function(){var e=u(),t=l((function(e){return e.userOrdersFeed})),n=t.orders,a=t.wsConnected,c=t.error;return Object(r.useEffect)((function(){return e(Dt.common.wsConnectionInit("userOrders")),function(){e(Dt.common.wsConnectionClose())}}),[e]),Object(m.jsxs)(m.Fragment,{children:[!a&&!c&&Object(m.jsx)($,{}),c&&Object(m.jsx)(ne,{error:{message:"\u0421\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u043f\u0440\u0435\u0440\u0432\u0430\u043d\u043e"}}),a&&!c&&Object(m.jsx)(H,{maxHeight:"70vh",children:Object(m.jsx)(yt,{ordersData:n})})]})},Rt=n(21),Pt=n.n(Rt),Ft=function(){var e=Object(d.g)(),t=u(),n=Object(r.useCallback)((function(n){n.preventDefault(),t(Ke()),e.push({pathname:"/login",state:{from:"/login"}})}),[t,e]),a=Object(d.j)(),c=a.path,s=a.url;return Object(m.jsxs)("div",{className:Pt.a.wrapper,children:[Object(m.jsxs)("div",{className:Pt.a["side-bar"],children:[Object(m.jsx)("nav",{className:Pt.a.nav,children:Object(m.jsxs)("ul",{className:Pt.a.list,children:[Object(m.jsx)("li",{className:Pt.a.item,children:Object(m.jsx)(o.c,{exact:!0,className:Pt.a.link,to:s,children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"})}),Object(m.jsx)("li",{className:Pt.a.item,children:Object(m.jsx)(o.c,{className:Pt.a.link,to:"".concat(s,"/orders"),children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})}),Object(m.jsx)("li",{className:Pt.a.item,children:Object(m.jsx)("a",{href:"/login",onClick:n,className:Pt.a.link,children:"\u0412\u044b\u0445\u043e\u0434"})})]})}),Object(m.jsxs)("p",{className:Pt.a.description,children:["\u0412 \u044d\u0442\u043e\u043c \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 ",Object(m.jsx)("br",{})," \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0432\u043e\u0438 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"]})]}),Object(m.jsx)("div",{className:Pt.a.main,children:Object(m.jsxs)(d.d,{children:[Object(m.jsx)(d.b,{exact:!0,path:c,children:Object(m.jsx)(st,{})}),Object(m.jsx)(d.b,{exact:!0,path:"".concat(c,"/orders"),children:Object(m.jsx)(H,{maxHeight:"868px",children:Object(m.jsx)(Lt,{})})})]})})]})},Mt=n(16),zt=n.n(Mt),Ut=function(){var e=Object(d.i)().id,t=l((function(t){return t.burgerIngredients.items.find((function(t){return t._id===e}))}));if(!t)return Object(m.jsx)("p",{children:"\u0418\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d"});var n=t.name,r=t.image_large,a=t.calories,c=t.proteins,s=t.fat,i=t.carbohydrates;return Object(m.jsxs)("article",{className:zt.a.details,children:[Object(m.jsxs)("figure",{className:zt.a.figure,children:[Object(m.jsx)("picture",{children:Object(m.jsx)("img",{className:zt.a.image,src:r,alt:n})}),Object(m.jsx)("figcaption",{children:Object(m.jsx)("h1",{className:zt.a.title,children:n})})]}),Object(m.jsxs)("table",{className:zt.a.evergy,children:[Object(m.jsx)("caption",{className:"visually-hidden",children:"\u042d\u043d\u0435\u0440\u0433\u0435\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0446\u0435\u043d\u043d\u043e\u0441\u0442\u044c"}),Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{className:zt.a.th,children:"\u041a\u0430\u043b\u043e\u0440\u0438\u0438,\u043a\u043a\u0430\u043b"}),Object(m.jsx)("th",{className:zt.a.th,children:"\u0411\u0435\u043b\u043a\u0438, \u0433"}),Object(m.jsx)("th",{className:zt.a.th,children:"\u0416\u0438\u0440\u044b, \u0433"}),Object(m.jsx)("th",{className:zt.a.th,children:"\u0423\u0433\u043b\u0435\u0432\u043e\u0434\u044b, \u0433"})]})}),Object(m.jsx)("tbody",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{className:zt.a.td,children:a}),Object(m.jsx)("td",{className:zt.a.td,children:c}),Object(m.jsx)("td",{className:zt.a.td,children:s}),Object(m.jsx)("td",{className:zt.a.td,children:i})]})})]})]})},qt=n(83),Bt=n.n(qt),Ht=function(){return Object(m.jsxs)("div",{className:Bt.a.wrapper,children:[Object(m.jsx)("h1",{className:Bt.a.title,children:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430"}),Object(m.jsx)(Ut,{})]})},Jt=n(13),Gt=n.n(Jt),At=function(e){var t=e.done,n=e.inWork,r=e.total,a=e.totalToday;return Object(m.jsxs)("table",{className:Gt.a.table,children:[Object(m.jsx)("caption",{className:"visually-hidden",children:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"}),Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{className:Gt.a.th,children:"\u0413\u043e\u0442\u043e\u0432\u044b:"}),Object(m.jsx)("th",{className:Gt.a.th,children:"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435:"})]})}),Object(m.jsx)("tbody",{children:Vt(t,n)}),Object(m.jsxs)("tfoot",{children:[Object(m.jsx)("tr",{children:Object(m.jsx)("th",{className:Gt.a.th,colSpan:2,children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f:"})}),Object(m.jsx)("tr",{children:Object(m.jsx)("td",{className:Gt.a.td_large,colSpan:2,children:r})}),Object(m.jsx)("tr",{children:Object(m.jsx)("th",{className:Gt.a.th,colSpan:2,children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f:"})}),Object(m.jsx)("tr",{children:Object(m.jsx)("td",{className:Gt.a.td_large,colSpan:2,children:a})})]})]})},Vt=function(e,t){var n=[],r=e.length>t.length?e:t;if(r.length>=10){for(var a=0;a<r.length&&!(a>=20);a+=2){var c=e[a]||"",s=t[a]||"",i=e[a+1]||"",o=t[a+1]||"";n.push(Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{className:"".concat(Gt.a.td," ").concat(Gt.a.quarter," ").concat(Gt.a.done),children:c}),Object(m.jsx)("td",{className:"".concat(Gt.a.td," ").concat(Gt.a.quarter," ").concat(Gt.a.done),children:i}),Object(m.jsx)("td",{className:"".concat(Gt.a.td," ").concat(Gt.a.quarter),children:s}),Object(m.jsx)("td",{className:"".concat(Gt.a.td," ").concat(Gt.a.quarter),children:o})]},a))}return n}for(var l=0;l<r.length&&!(l>=20);l++){var u=e[l]||"",d=t[l]||"";n.push(Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{className:"".concat(Gt.a.td," ").concat(Gt.a.done),children:u}),Object(m.jsx)("td",{className:"".concat(Gt.a.td," ").concat(Gt.a.done),children:d})]},l))}return n},Wt=n(37),Yt=n.n(Wt),Xt=function(){var e=u(),t=l((function(e){return e.allOrdersFeed})),n=t.orders,a=t.total,c=t.totalToday,s=t.wsConnected,i=t.error;Object(r.useEffect)((function(){return e(Dt.common.wsConnectionInit("allOrders")),function(){e(Dt.common.wsConnectionClose())}}),[e]);var o=Object(r.useMemo)((function(){var e={done:[],inWork:[]};return n.forEach((function(t){var n=t.status;e[n].push(t.number)})),e}),[n]);return Object(m.jsxs)(m.Fragment,{children:[!s&&!i&&Object(m.jsx)($,{}),i&&Object(m.jsx)(ne,{error:{message:"\u0421\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u043f\u0440\u0435\u0440\u0432\u0430\u043d\u043e"}}),s&&!i&&a&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h1",{className:Yt.a.title,children:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"}),Object(m.jsxs)("div",{className:Yt.a.flex,children:[Object(m.jsx)("div",{className:Yt.a.column,children:Object(m.jsx)(H,{maxHeight:"70vh",children:Object(m.jsx)(yt,{ordersData:n})})}),Object(m.jsx)("div",{className:"".concat(Yt.a.column," ").concat(Yt.a["table-wrapper"]),children:Object(m.jsx)(At,{done:o.done,inWork:o.inWork,total:a,totalToday:c})})]})]})]})},Zt=n(84),Kt=n.n(Zt),Qt=function(){return Object(m.jsx)("div",{className:Kt.a.wrapper,children:Object(m.jsx)("h1",{className:Kt.a.text,children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430!"})})},$t=Object(_.c)("userOrder",function(){var e=Object(w.a)(v.a.mark((function e(t,n){var r,a,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.extra,e.next=3,r.getOrderById(t);case 3:return a=e.sent,e.next=6,a.json();case 6:return c=e.sent,e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),en=Object(_.d)({name:"userOrder",initialState:{orderData:null,loading:!1,error:null},reducers:{},extraReducers:function(e){e.addCase($t.fulfilled,(function(e,t){e.loading=!1,e.orderData=t.payload})).addCase($t.pending,(function(e){e.loading=!0,e.error=null})).addCase($t.rejected,(function(e,t){e.loading=!1,e.error=t.error,e.orderData=null}))}}).reducer,tn=n(17),nn=n.n(tn),rn=function(){var e=Object(d.i)().id,t=u(),n=l((function(e){return e.burgerIngredients.items})),a=l((function(e){return e.userOrder})),c=a.orderData,s=a.loading,i=a.error,o=c?c.orders[0]:null;Object(r.useEffect)((function(){t($t(e))}),[t,e]);var b=Object(r.useMemo)((function(){if(o){var e=o.ingredients,t=n.filter((function(t){return e.includes(t._id)})),r={};return t.forEach((function(e){r[e._id]=Object(j.a)(Object(j.a)({},e),{},{amount:1})})),e.forEach((function(e){r[e].amount+=1})),Object.values(r)}}),[n,o]),h=Object(r.useMemo)((function(){if(b)return b.reduce((function(e,t){return e+t.price*t.amount}),0)}),[b]),p="done"===(null===o||void 0===o?void 0:o.status)?"success":"cancel"===(null===o||void 0===o?void 0:o.status)?"error":"";return Object(m.jsxs)(m.Fragment,{children:[s&&Object(m.jsx)($,{}),i&&Object(m.jsx)(ne,{error:i}),!s&&!i&&o&&Object(m.jsxs)("article",{className:nn.a.card,children:[Object(m.jsxs)("header",{className:nn.a.header,children:[Object(m.jsxs)("p",{className:nn.a.id,children:["#",o.number]}),Object(m.jsx)("h1",{className:nn.a.title,children:o.name}),Object(m.jsx)("p",{className:"".concat(nn.a.status," ").concat(p),children:Ot[o.status]})]}),Object(m.jsx)("h2",{className:nn.a["structure-title"],children:"\u0421\u043e\u0441\u0442\u0430\u0432:"}),Object(m.jsx)(H,{maxHeight:"314px",children:Object(m.jsx)("ul",{className:nn.a.list,children:null===b||void 0===b?void 0:b.map((function(e){return Object(m.jsx)("li",{className:nn.a.item,children:Object(m.jsxs)("article",{className:nn.a.ingredient,children:[Object(m.jsx)(lt,{ingredient:e,more:null}),Object(m.jsx)("h3",{className:nn.a["ingredient-name"],children:e.name}),Object(m.jsxs)(de,{children:[e.amount," x ",e.price]})]})},e._id)}))})}),Object(m.jsxs)("footer",{className:nn.a.footer,children:[Object(m.jsx)("p",{className:nn.a["time-wrapper"],children:Object(m.jsx)("time",{dateTime:o.createdAt,className:nn.a.time,children:jt(o.createdAt)})}),Object(m.jsx)(de,{children:h})]})]})]})},an=n(85),cn=n.n(an),sn=function(){return Object(m.jsx)("nav",{children:Object(m.jsxs)("ul",{className:cn.a.list,children:[Object(m.jsx)("li",{className:cn.a.item,children:Object(m.jsxs)(o.c,{to:"/",exact:!0,className:"nav-link",children:[Object(m.jsx)(P.BurgerIcon,{type:"secondary"}),"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440"]})}),Object(m.jsx)("li",{children:Object(m.jsxs)(o.c,{to:"/feed",className:"nav-link",children:[Object(m.jsx)(P.ListIcon,{type:"secondary"}),"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"]})})]})})},on=n(48),ln=n.n(on),un=Object(r.memo)((function(){return Object(m.jsx)("header",{className:ln.a.header,children:Object(m.jsxs)("div",{className:ln.a.container,children:[Object(m.jsx)(sn,{}),Object(m.jsx)("div",{className:ln.a.logo,children:Object(m.jsx)(P.Logo,{})}),Object(m.jsx)("div",{className:ln.a.login,children:Object(m.jsxs)(o.c,{to:"/profile",className:"nav-link",children:[Object(m.jsx)(P.ProfileIcon,{type:"secondary"}),"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442"]})})]})})})),dn=function(e){var t=e.children;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(un,{}),Object(m.jsx)("main",{className:"pt-10",children:Object(m.jsx)("div",{className:"container pl-5 pr-5",children:t})})]})},jn=Object(_.c)("burgerIngredients/fetchData",function(){var e=Object(w.a)(v.a.mark((function e(t,n){var r,a,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.extra,e.next=3,r.getIngredienst();case 3:return a=e.sent,e.next=6,a.json();case 6:return c=e.sent,e.abrupt("return",c.data);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),bn=Object(_.d)({name:"burgerIngredients",initialState:{items:[],loading:!1,error:null},reducers:{},extraReducers:function(e){e.addCase(jn.fulfilled,(function(e,t){e.loading=!1,e.items=t.payload})).addCase(jn.pending,(function(e){e.loading=!0})).addCase(jn.rejected,(function(e,t){e.loading=!1,e.error=t.error,e.items=[]})).addCase(E,(function(e,t){var n=t.payload,r=e.items.find((function(e){return e._id===n._id}));r&&(r.quantity?++r.quantity:r.quantity=1)})).addCase(T,(function(e,t){var n=t.payload,r=e.items.find((function(e){return e._id===n}));(null===r||void 0===r?void 0:r.quantity)&&--r.quantity})).addCase(D,(function(e,t){var n=t.payload,r=n.bun,a=n.activeBun;if(null!==a){var c=e.items.find((function(e){return e._id===a._id}));void 0!==c&&(c.quantity=0)}var s=e.items.find((function(e){return e._id===r._id}));s&&(s.quantity=1)})).addCase(y.fulfilled,(function(e){e.items.forEach((function(e){e.quantity&&(e.quantity=0)}))}))}}).reducer,mn=function(){var e,t,n=Object(d.h)(),a=Object(d.g)(),c=u(),s="POP"===a.action,i=s?null:null===(e=n.state)||void 0===e?void 0:e.ingredientLocation,o=s?null:null===(t=n.state)||void 0===t?void 0:t.orderLocation;Object(r.useEffect)((function(){c(jn())}),[c]);var j=Object(r.useCallback)((function(){a.goBack()}),[a]),b=l((function(e){return e.burgerIngredients})),h=b.loading,f=b.error,x=b.items;return Object(m.jsxs)(dn,{children:[h&&Object(m.jsx)($,{}),f&&Object(m.jsx)(ne,{error:f}),!h&&!f&&!!x.length&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(d.d,{location:i||o||n,children:[Object(m.jsx)(d.b,{path:"/",exact:!0,children:Object(m.jsx)(Se,{})}),Object(m.jsx)(d.b,{path:"/ingredients/:id",children:Object(m.jsx)(Ht,{})}),Object(m.jsx)(d.b,{path:"/login",children:Object(m.jsx)(qe,{})}),Object(m.jsx)(d.b,{path:"/register",children:Object(m.jsx)(Je,{})}),Object(m.jsx)(d.b,{path:"/forgot-password",children:Object(m.jsx)(Ve,{})}),Object(m.jsx)(d.b,{path:"/reset-password",children:Object(m.jsx)(Xe,{})}),Object(m.jsx)(d.b,{path:"/feed",exact:!0,children:Object(m.jsx)(Xt,{})}),Object(m.jsx)(d.b,{path:["/feed/:id","/profile/orders/:id"],children:Object(m.jsx)(rn,{})}),Object(m.jsx)(p,{path:"/profile",children:Object(m.jsx)(Ft,{})}),Object(m.jsx)(d.b,{children:Object(m.jsx)(Qt,{})})]}),i&&Object(m.jsx)(d.b,{path:"/ingredients/:id",children:Object(m.jsx)(X,{title:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430",onClose:j,children:Object(m.jsx)(Ut,{})})}),o&&Object(m.jsx)(d.b,{path:["/feed/:id","/profile/orders/:id"],children:Object(m.jsx)(X,{onClose:j,children:Object(m.jsx)(rn,{})})})]})]})},hn=null===(dt=Me("token"))||void 0===dt?void 0:dt.split(" ")[1],pn={allOrders:function(){return new WebSocket("wss://norma.nomoreparties.space/orders/all")},userOrders:function(){return new WebSocket("".concat("wss://norma.nomoreparties.space/orders","?token=").concat(hn))}},fn=function(){return function(e){var t=null,n="";return function(r){return function(a){var c=e.dispatch,s=a.type,i=a.payload;s===Dt.common.wsConnectionInit.toString()&&(n=i,t=pn[i]()),s===Dt.common.wsConnectionClose.toString()&&t&&t.close(),t&&(t.onopen=function(e){c(Dt[n].onOpen(e.type))},t.onmessage=function(e){var t=e.data,r=JSON.parse(t);c(Dt[n].onMessage(r))},t.onerror=function(e){c(Dt[n].onError(e.type))},t.onclose=function(e){c(Dt[n].onClose(e.type))}),r(a)}}}},xn=n(112),On=n(113),_n=function(){function e(){Object(xn.a)(this,e),this.getIngredienst=Object(w.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(String(new URL("https://norma.nomoreparties.space/api/ingredients")));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),this.getOrderDetails=function(){var e=Object(w.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new URL(pt),e.next=3,fetch(String(n),{method:"POST",headers:{"Content-Type":"application/json",Authorization:String(Me("token"))},body:JSON.stringify({ingredients:t})});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getOrderById=function(){var e=Object(w.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=String(new URL(pt+"/"+t)),e.next=3,fetch(n,{method:"GET",headers:{"Content-Type":"application/json"}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getUserData=Object(w.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=String(new URL(xt)),e.next=3,fetch(t,{method:"GET",headers:{"Content-Type":"application/json",Authorization:String(Me("token"))}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),this.setUserData=function(){var e=Object(w.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=String(new URL(xt)),e.next=3,fetch(n,{method:"PATCH",headers:{"Content-Type":"application/json",authorization:String(Me("token"))},body:JSON.stringify(t)});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.login=function(){var e=Object(w.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=String(new URL("https://norma.nomoreparties.space/api/auth/login")),e.next=3,fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.logout=Object(w.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=String(new URL("https://norma.nomoreparties.space/api/auth/logout")),e.next=3,fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:Me("refreshToken")})});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),this.register=function(){var e=Object(w.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=String(new URL("https://norma.nomoreparties.space/api/auth/register")),e.next=3,fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.checkEmailForPassReset=function(){var e=Object(w.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=String(new URL(ft)),e.next=3,fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t})});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.resetPassword=function(){var e=Object(w.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=String(new URL(ft+"/reset")),e.next=3,fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.refreshToken=Object(w.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=String(new URL("https://norma.nomoreparties.space/api/auth/token")),e.next=3,fetch(t,{method:"POST",headers:{"Content-Type":"application/json",authorization:String(Me("refreshToken"))},body:JSON.stringify({token:Me("refreshToken")})});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))}return Object(On.a)(e,null,[{key:"instance",value:function(){return this._instance||(this._instance=new e),this._instance}}]),e}();_n._instance=void 0;var gn=_n.instance(),vn={burgerIngredients:bn,burgerConstructor:S,postedOrderDetails:N,forgotPassword:Ae,registration:He,login:Ue,resetPassword:Ye,profile:rt,allOrdersFeed:Ct,userOrdersFeed:Et,userOrder:en},wn=Object(_.a)({reducer:vn,middleware:function(e){return e({thunk:{extraArgument:gn}}).concat(fn())}});s.a.render(Object(m.jsx)(i.a,{store:wn,children:Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(o.a,{basename:"ya-praktikum-react/",children:Object(m.jsx)(mn,{})})})}),document.getElementById("root"))},21:function(e,t,n){e.exports={wrapper:"profile_wrapper__1Oz3z","side-bar":"profile_side-bar__3srX8 pt-20",nav:"profile_nav__1ddV4 mb-20",list:"profile_list__2lI8E list-reset",link:"profile_link__1-1p8 text_type_main-medium pt-4 pb-4",description:"profile_description__2Qw7N text text_type_main-default",main:"profile_main__qGy5r"}},26:function(e,t,n){e.exports={section:"burger-constructor_section__3LLkY pt-5 pr-2 pl-4",ingredients:"burger-constructor_ingredients__3srro pb-10",ingredientsData:"burger-constructor_ingredientsData__2dKUu pb-10 pt-10",canDrop:"burger-constructor_canDrop__26IG6",ingredientInflight:"burger-constructor_ingredientInflight__1rOAL",list:"burger-constructor_list__2lXaw list-reset pr-2",placeholder:"burger-constructor_placeholder__11mNA","placeholder-text":"burger-constructor_placeholder-text__2PKTo text_type_main-default",item:"burger-constructor_item__9YfeG",helper:"burger-constructor_helper__Tg2qn"}},28:function(e,t,n){e.exports={card:"order-card_card__38Dy5 p-6",header:"order-card_header__3UVIG mb-6",id:"order-card_id__xhHjl text_type_digits-default",time:"order-card_time__W6OQi text_type_main-default",title:"order-card_title__t4vNx text_type_main-medium text mb-2",status:"order-card_status__3aQVL text text_type_main-default mb-6",main:"order-card_main__29qfJ",ingredients:"order-card_ingredients__20T5_ list-reset"}},35:function(e,t,n){e.exports={spinner:"spinner_spinner__21x4r",star:"spinner_star__1nZq7",breath:"spinner_breath__1EDr1"}},36:function(e,t,n){e.exports={details:"order-details_details__2AXaS pb-30",id:"order-details_id__1POxV text text_type_digits-large mb-8",title:"order-details_title__FoYOr text text_type_main-medium mb-15",status:"order-details_status__3_H80 text text_type_main-default mb-2",note:"order-details_note__1kCj6 text text_type_main-default"}},37:function(e,t,n){e.exports={title:"feed_title__yRxeu text text_type_main-large mb-5",flex:"feed_flex__2OsPm",column:"feed_column__1n4kj","table-wrapper":"feed_table-wrapper__CtBJ9"}},45:function(e,t,n){e.exports={modal:"modal_modal__1DF1f pt-10 pr-10 pl-10",header:"modal_header__2iX3r",title:"modal_title__1efUU text text_type_main-large","close-btn":"modal_close-btn__BlO8T btn-reset"}},46:function(e,t,n){e.exports={wrapper:"form-page-template_wrapper__27bpt",title:"form-page-template_title__kkI5w text text_type_main-medium mb-6",error:"form-page-template_error__1JolC text text_type_main-medium mb-6",form:"form-page-template_form__1fbzy pb-20"}},47:function(e,t,n){e.exports={list:"orders-feed_list__3GqEa list-reset pr-2",item:"orders-feed_item__1-jJu mb-4",link:"orders-feed_link__rU-ak",text:"orders-feed_text__2eQFQ text text_type_main-medium"}},48:function(e,t,n){e.exports={header:"app-header_header__1iHLW pt-3 pb-3",logo:"app-header_logo__zVEfY",login:"app-header_login__3afH_",container:"app-header_container__2ER_- container"}},55:function(e,t,n){e.exports={error:"error_error__3hTfz",text:"error_text__3r-RT text text_type_main-medium"}},56:function(e,t,n){e.exports={section:"burger-ingredients_section__JPGCZ",list:"burger-ingredients_list__HZyi9 list-reset pl-4 pr-1",item:"burger-ingredients_item__3x5fV mr-6 from global, mb-8"}},77:function(e,t,n){e.exports={text:"active-bun_text__2v0UU text text_type_main-default p-4 mb-4"}},78:function(e,t,n){e.exports={list:"tabs-list_list__10Eas list-reset",item:"tabs-list_item__1p4zc"}},80:function(e,t,n){e.exports={note:"note_note__39uPX text text_type_main-default",link:"note_link__2bvUO"}},81:function(e,t,n){e.exports={form:"user-form_form__3X2o9 pt-20",flex:"user-form_flex__2jMB5"}},82:function(e,t,n){e.exports={ingredient:"ingredient-preview_ingredient__2oK9u",more:"ingredient-preview_more__3eso2 text_type_main-default"}},83:function(e,t,n){e.exports={wrapper:"ingredient-page_wrapper__3c4gt",title:"ingredient-page_title__6A0MN text_type_main-large text"}},84:function(e,t,n){e.exports={wrapper:"not-found-404_wrapper__2cvOE",text:"not-found-404_text__3pGcU text text_type_main-large"}},85:function(e,t,n){e.exports={list:"app-nav_list__Zatwd list-reset",item:"app-nav_item__3P1pn mr-2"}}},[[200,1,2]]]);
//# sourceMappingURL=main.82765be7.chunk.js.map